@using LandsatReflectance.UI.Components
@inherits LayoutComponentBase


<MudThemeProvider Theme="@UiService.MudTheme" IsDarkMode="UiService.IsDarkMode"/>
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<FullPageLoadingOverlay @ref="@m_fullPageLoadingOverlay" />

<div class="page mud-layout">
    <main>
        <MudLayout>
            <Appbar IsDarkMode="@UiService.IsDarkMode"
                    DrawerToggle="@(EventCallback.Factory.Create(this, DrawerToggle))"
                    DarkModeToggle="@(EventCallback.Factory.Create(this, DarkModeToggle))" />

            <NavMenu 
                IsDrawerExpanded="@UiService.IsDrawerExpanded"
                FullPageLoadingOverlay="@m_fullPageLoadingOverlay" />

            <MudMainContent>
                <CascadingValue Value="@m_fullPageLoadingOverlay">
                    @Body
                </CascadingValue>
            </MudMainContent>
        </MudLayout>
    </main>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>
